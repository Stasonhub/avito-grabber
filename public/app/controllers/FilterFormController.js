(function (app) {
  FilterFormController.$inject = ['$scope', '$state', '$stateParams'];
  function FilterFormController($scope, $state, $stateParams) {
    $scope.vm = this;
    this.$state = $state;
    this.filter = $stateParams;
    if (!this.filter.region)
      this.filter.region = 'moskva';
    this.regions = [
      {"id": "moskva", "title": "Москва"},
      {"id": "sankt-peterburg", "title": "Санкт-Петербург"},
      {"id": "volgograd", "title": "Волгоград"},
      {"id": "ekaterinburg", "title": "Екатеринбург"},
      {"id": "kazan", "title": "Казань"},
      {"id": "krasnodar", "title": "Краснодар"},
      {"id": "nizhniy_novgorod", "title": "Нижний Новгород"},
      {"id": "perm", "title": "Пермь"},
      {"id": "rostov-na-donu", "title": "Ростов-на-Дону"},
      {"id": "samara", "title": "Самара"},
      {"id": "ufa", "title": "Уфа"},
      {"id": "chelyabinsk", "title": "Челябинск"},
      {"id": "arhangelskaya_oblast", "title": "Архангельская обл."},
      {"id": "astrahanskaya_oblast", "title": "Астраханская обл."},
      {"id": "bashkortostan", "title": "Башкортостан"},
      {"id": "belgorodskaya_oblast", "title": "Белгородская обл."},
      {"id": "bryanskaya_oblast", "title": "Брянская обл."},
      {"id": "vladimirskaya_oblast", "title": "Владимирская обл."},
      {"id": "volgogradskaya_oblast", "title": "Волгоградская обл."},
      {"id": "vologodskaya_oblast", "title": "Вологодская обл."},
      {"id": "voronezhskaya_oblast", "title": "Воронежская обл."},
      {"id": "dagestan", "title": "Дагестан"},
      {"id": "ivanovskaya_oblast", "title": "Ивановская обл."},
      {"id": "kaliningradskaya_oblast", "title": "Калининградская обл."},
      {"id": "kaluzhskaya_oblast", "title": "Калужская обл."},
      {"id": "kareliya", "title": "Карелия"},
      {"id": "kirovskaya_oblast", "title": "Кировская обл."},
      {"id": "komi", "title": "Коми"},
      {"id": "kostromskaya_oblast", "title": "Костромская обл."},
      {"id": "krasnodarskiy_kray", "title": "Краснодарский край"},
      {"id": "kurganskaya_oblast", "title": "Курганская обл."},
      {"id": "kurskaya_oblast", "title": "Курская обл."},
      {"id": "leningradskaya_oblast", "title": "Ленинградская обл."},
      {"id": "lipetskaya_oblast", "title": "Липецкая обл."},
      {"id": "mariy_el", "title": "Марий Эл"},
      {"id": "mordoviya", "title": "Мордовия"},
      {"id": "moskovskaya_oblast", "title": "Московская обл."},
      {"id": "murmanskaya_oblast", "title": "Мурманская обл."},
      {"id": "nizhegorodskaya_oblast", "title": "Нижегородская обл."},
      {"id": "novgorodskaya_oblast", "title": "Новгородская обл."},
      {"id": "orenburgskaya_oblast", "title": "Оренбургская обл."},
      {"id": "orlovskaya_oblast", "title": "Орловская обл."},
      {"id": "penzenskaya_oblast", "title": "Пензенская обл."},
      {"id": "permskiy_kray", "title": "Пермский край"},
      {"id": "pskovskaya_oblast", "title": "Псковская обл."},
      {"id": "rostovskaya_oblast", "title": "Ростовская обл."},
      {"id": "ryazanskaya_oblast", "title": "Рязанская обл."},
      {"id": "samarskaya_oblast", "title": "Самарская обл."},
      {"id": "saratovskaya_oblast", "title": "Саратовская обл."},
      {"id": "sverdlovskaya_oblast", "title": "Свердловская обл."},
      {"id": "smolenskaya_oblast", "title": "Смоленская обл."},
      {"id": "stavropolskiy_kray", "title": "Ставропольский край"},
      {"id": "tambovskaya_oblast", "title": "Тамбовская обл."},
      {"id": "tatarstan", "title": "Татарстан"},
      {"id": "tverskaya_oblast", "title": "Тверская обл."},
      {"id": "tulskaya_oblast", "title": "Тульская обл."},
      {"id": "udmurtiya", "title": "Удмуртия"},
      {"id": "ulyanovskaya_oblast", "title": "Ульяновская обл."},
      {"id": "chelyabinskaya_oblast", "title": "Челябинская обл."},
      {"id": "chuvashiya", "title": "Чувашия"},
      {"id": "yaroslavskaya_oblast", "title": "Ярославская обл."},
      {"id": "adygeya", "title": "Адыгея"},
      {"id": "ingushetiya", "title": "Ингушетия"},
      {"id": "kabardino-balkariya", "title": "Кабардино-Балкария"},
      {"id": "kalmykiya", "title": "Калмыкия"},
      {"id": "karachaevo-cherkesiya", "title": "Карачаево-Черкесия"},
      {"id": "nenetskiy_ao", "title": "Ненецкий АО"},
      {"id": "severnaya_osetiya", "title": "Северная Осетия"},
      {"id": "chechenskaya_respublika", "title": "Чеченская республика"},
      {"id": "novosibirsk", "title": "Новосибирск"},
      {"id": "omsk", "title": "Омск"},
      {"id": "barnaul", "title": "Барнаул"},
      {"id": "vladivostok", "title": "Владивосток"},
      {"id": "irkutsk", "title": "Иркутск"},
      {"id": "kemerovo", "title": "Кемерово"},
      {"id": "krasnoyarsk", "title": "Красноярск"},
      {"id": "novokuznetsk", "title": "Новокузнецк"},
      {"id": "surgut", "title": "Сургут"},
      {"id": "tomsk", "title": "Томск"},
      {"id": "tyumen", "title": "Тюмень"},
      {"id": "habarovsk", "title": "Хабаровск"},
      {"id": "altayskiy_kray", "title": "Алтайский край"},
      {"id": "amurskaya_oblast", "title": "Амурская обл."},
      {"id": "buryatiya", "title": "Бурятия"},
      {"id": "evreyskaya_ao", "title": "Еврейская АО"},
      {"id": "zabaykalskiy_kray", "title": "Забайкальский край"},
      {"id": "irkutskaya_oblast", "title": "Иркутская обл."},
      {"id": "kamchatskiy_kray", "title": "Камчатский край"},
      {"id": "kemerovskaya_oblast", "title": "Кемеровская обл."},
      {"id": "krasnoyarskiy_kray", "title": "Красноярский край"},
      {"id": "magadanskaya_oblast", "title": "Магаданская обл."},
      {"id": "novosibirskaya_oblast", "title": "Новосибирская обл."},
      {"id": "omskaya_oblast", "title": "Омская обл."},
      {"id": "primorskiy_kray", "title": "Приморский край"},
      {"id": "respublika_altay", "title": "Республика Алтай"},
      {"id": "saha_yakutiya", "title": "Саха (Якутия)"},
      {"id": "sahalinskaya_oblast", "title": "Сахалинская обл."},
      {"id": "tomskaya_oblast", "title": "Томская обл."},
      {"id": "tyva", "title": "Тыва"},
      {"id": "tyumenskaya_oblast", "title": "Тюменская обл."},
      {"id": "habarovskiy_kray", "title": "Хабаровский край"},
      {"id": "hakasiya", "title": "Хакасия"},
      {"id": "hanty-mansiyskiy_ao", "title": "Ханты-Мансийский АО"},
      {"id": "chukotskiy_ao", "title": "Чукотский АО"},
      {"id": "yamalo-nenetskiy_ao", "title": "Ямало-Ненецкий АО"}
    ];
  }

  FilterFormController.prototype = {
    search: function () {
      this.$state.go('articleList', this.filter);
    },
    clearForm: function () {
      this.filter = {};
    }
  };

  app.controller('FilterFormController', FilterFormController);
  return FilterFormController;
}(app));